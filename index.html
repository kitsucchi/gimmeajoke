<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gimme A Joke!</title>
    <!-- Tailwind CSS for utility classes -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Sound Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Luckiest+Guy&display=swap" rel="stylesheet">
    <!-- External Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="min-h-screen flex flex-col items-center pt-8 px-4">

    <!-- Video Background -->
    <div class="video-background-container">
        <video autoplay loop muted playsinline id="bgVideo">
            <source src="./background-video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <header class="w-full max-w-2xl p-4 md:p-6 rounded-lg shadow-xl mb-4">
        <h1 class="site-title text-5xl md:text-6xl font-bold text-center"> 
            <svg class="title-icon" style="width: 48px; height: 48px;" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-4-6h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1zm0-4c.83 0 1.5-.67 1.5-1.5S8.83 7 8 7s-1.5.67-1.5 1.5S7.17 10 8 10zm8 0c.83 0 1.5-.67 1.5-1.5S16.83 7 16 7s-1.5.67-1.5 1.5S15.17 10 16 10zM12 16.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></svg>
            Gimme A Joke!
        </h1>
    </header>

    <div class="filter-controls">
        <label for="basedModeCheckbox">Based Mode :</label>
        <input type="checkbox" id="basedModeCheckbox">
    </div>

    <div class="volume-controls">
        <label for="volumeSlider">Volume :</label>
        <input type="range" id="volumeSlider" min="0" max="100" value="100">
    </div>

    <main class="w-full max-w-2xl flex flex-col items-center">
        <div id="jokeDisplay" class="joke-card w-full p-6 md:p-8 rounded-lg text-center mb-8">
            <p id="jokeText" class="text-lg md:text-xl leading-relaxed">Press the button to get a joke!</p>
            <div id="loader" class="loader hidden"></div>
        </div>
        <button id="gimmeJokeButton" class="font-semibold py-3 px-8 rounded-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-var(--button-hover-bg-color) focus:ring-opacity-75">
            Gimme a New Joke!
        </button>
    </main>

    <div id="messageBox" class="message-box"></div>

    <footer class="mt-12 text-center text-sm pb-4 opacity-80">
        <p>Powered by JokeAPI.</p>
    </footer>
    
    <!-- Based Mode Warning Modal -->
    <div id="warningModal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="modal-title">⚠️ Content Warning</h2>
            <p class="modal-body">
                Enabling "Based Mode" will show unfiltered jokes that may include sensitive, explicit, or otherwise challenging topics. Viewer discretion is strongly advised. 
            </p>
            <button id="acceptWarningBtn">I Understand</button>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="script.js"></script>
</body>
</html>
